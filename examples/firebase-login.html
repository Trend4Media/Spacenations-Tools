<!doctype html>
<html lang="de">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Firebase Login (Beispiel)</title>
    <style>
      body { font-family: system-ui, sans-serif; margin: 2rem; }
      form { display: grid; gap: .75rem; max-width: 360px; }
      input, button { padding: .6rem .8rem; font-size: 16px; }
      .row { display: grid; gap: .5rem; }
      .links a { margin-right: 1rem; }
      .status { margin-top: 1rem; }
      .ok { color: #0a7f24; }
      .err { color: #b00020; }
    </style>
  </head>
  <body>
    <h1>Login</h1>
    <form id="loginForm">
      <div class="row">
        <label for="email">E-Mail</label>
        <input id="email" type="email" required />
      </div>
      <div class="row">
        <label for="password">Passwort</label>
        <input id="password" type="password" required />
      </div>
      <button type="submit">Einloggen</button>
    </form>
    <div class="status" id="status"></div>

    <div class="links" style="margin-top: 2rem;">
      <a href="/examples/member-dashboard.html">Member-Dashboard</a>
      <a href="/examples/alliance-dashboard.html">Allianz-Dashboard</a>
      <a href="/examples/admin-dashboard.html">Admin-Dashboard</a>
    </div>

    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <script src="/js/firebase-config.js"></script>
    <script>
      const el = (id) => document.getElementById(id);

      document.getElementById('loginForm').addEventListener('submit', async (e) => {
        e.preventDefault();
        const email = el('email').value.trim();
        const password = el('password').value;
        el('status').textContent = 'Einloggen...';
        try {
          await window.FirebaseConfig.waitForReady();
          const auth = window.FirebaseConfig.getAuth();
          await auth.signInWithEmailAndPassword(email, password);
          el('status').innerHTML = '<span class="ok">Erfolgreich eingeloggt.</span>';
        } catch (err) {
          el('status').innerHTML = '<span class="err">' + (err && err.message ? err.message : 'Fehler beim Login') + '</span>';
        }
      });
    </script>
  </body>
  </html>

